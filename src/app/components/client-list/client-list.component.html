<div class="container">
  <div class="card mb-5" id="form">
    <div class="card-body">
      <form novalidate (ngSubmit)="onSubmit(form)" #form="ngForm">
        <div class="form-group row">
          <label for="name" class="col-sm-2 col-form-label">Name<span>*</span></label>
          <div class="col-sm-10">
            <input
              type="text"
              id="name"
              class="form-control"
              [(ngModel)]="item.name"
              [ngClass]="{'is-invalid': itemName.errors && form.submitted}"
              #itemName="ngModel"
              name="name"
              placeholder="Name Surname"
              required
              minlength="2"
              maxlength="30"
              pattern="^([[а-яА-ЯёЁa-zA-Z]{2,}\s[[а-яА-ЯёЁa-zA-Z]{1,}'?-?[[а-яА-ЯёЁa-zA-Z]{2,}\s?([[а-яА-ЯёЁa-zA-Z]{1,})?)"
            >
            <div class="invalid-feedback" [hidden]="!itemName.errors?.required">Name required</div>
            <div class="invalid-feedback" [hidden]="!itemName.errors?.minlength">Name must be at 2 chars</div>
            <div class="invalid-feedback" [hidden]="!itemName.errors?.pattern">Must be Name Surname</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="email" class="col-sm-2 col-form-label">Email<span>*</span></label>
          <div class="col-sm-10">
            <input
              type="email"
              id="email"
              class="form-control"
              [(ngModel)]="item.email"
              [ngClass]="{'is-invalid': itemEmail.errors && form.submitted}"
              #itemEmail="ngModel"
              name="email"
              placeholder="email@example.com"
              required
              email
            >
            <div class="invalid-feedback" [hidden]="!itemEmail.errors?.required">Email required</div>
            <div class="invalid-feedback" [hidden]="!itemEmail.errors?.email">Email must be email@example.com</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="age" class="col-sm-2 col-form-label">Age<span>*</span></label>
          <div class="col-sm-10">
            <input
              type="number"
              id="age"
              class="form-control"
              [(ngModel)]="item.age"
              [ngClass]="{'is-invalid': itemAge.errors && form.submitted}"
              #itemAge="ngModel"
              name="age"
              required
              pattern="(^[1-9]{1}$|^[1-4]{1}[0-9]{1}$|^100$)"
            >
            <div class="invalid-feedback" [hidden]="!itemAge.errors?.required">Item age required</div>
            <div class="invalid-feedback" [hidden]="!itemAge.errors?.pattern">The age should be more than zero and less
              than one hundred
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="phone" class="col-sm-2 col-form-label">Phone<span>*</span></label>
          <div class="col-sm-10">
            <input
              type="text"
              id="phone"
              class="form-control"
              [(ngModel)]="item.phone"
              [ngClass]="{'is-invalid': itemPhone.errors && form.submitted}"
              #itemPhone="ngModel"
              name="phone"
              placeholder="+380......."
              required
              minlength="5"
              maxlength="12"
              pattern="\+? ?3?[ -]?8?[ -]?\(?(\d[ -]?){3}\)?[ -]?(\d[ -]?){7}"
            >
            <div class="invalid-feedback" [hidden]="!itemPhone.errors?.required">Item phone required</div>
            <div class="invalid-feedback" [hidden]="!itemPhone.errors?.minlength">Item phone must be at 2 chars</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="commentary" class="col-sm-2 col-form-label">Commentary<span>*</span></label>
          <div class="col-sm-10">
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                    type="text"
                    id="commentary"
                    class="form-control"
                    [(ngModel)]="item.commentary"
                    [ngClass]="{'is-invalid': itemCommentary.errors && form.submitted}"
                    #itemCommentary="ngModel"
                    name="commentary"
                    required
                    minlength="4"
          >
         </textarea>
            <div class="invalid-feedback" [hidden]="!itemCommentary.errors?.required">Item commentary required</div>
            <div class="invalid-feedback" [hidden]="!itemCommentary.errors?.minlength">Item commentary must be at 4
              chars
            </div>
          </div>
        </div>
        <div class="col-sm-12 text-right">
          <button type="submit" class="btn btn-primary">Add</button>
        </div>
      </form>
    </div>
  </div>
  <!--table-->
  <div class="card mb-5" id="table" [hidden]="true">
    <table class="table">
      <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Age</th>
        <th scope="col">Phone</th>
        <th scope="col">Commentary</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody *ngFor="let item of clientlist; let i = index ">
      <tr>
        <th scope="row">{{i+1}}</th>
        <td>{{item.name}}</td>
        <td>{{item.email}}</td>
        <td>{{item.age}}</td>
        <td>{{item.phone}}</td>
        <td>{{item.commentary}}</td>
        <td>
          <button type="button" class="close" aria-label="Close" (click)="itemDelete(i)">
            <span aria-hidden="true">&times;</span>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <!--alert-->
  <div class="alert alert-warning alert-dismissible fade show" role="alert" *ngIf="!clientlist.length">Customer list is
    empty
  </div>
</div>

